(function(t){function e(e){for(var a,o,i=e[0],c=e[1],l=e[2],p=0,m=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,i=1;i<s.length;i++){var c=s[i];0!==r[c]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},r={app:0},n=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0028":function(t,e,s){},"07d9":function(t,e,s){"use strict";s("9533")},"21bb":function(t,e,s){"use strict";s("2dad")},"281f":function(t,e,s){"use strict";s("0028")},"2dad":function(t,e,s){},"3a69":function(t,e,s){"use strict";s("d709")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Navigation",{attrs:{"nav-links":t.navLinks,"image-path":s("da53"),background:"#2A3042"}}),t.error?a("Errors",{attrs:{msg:t.error}}):t._e(),a("router-view"),a("Footer")],1)},n=[],o=s("5530"),i=s("2f62"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{style:{background:t.background}},[s("div",{staticClass:"d-flex  top-bar "},[s("router-link",{staticClass:"mx-3",attrs:{to:"/"}},[s("img",{attrs:{src:t.imagePath,height:"57px"}})]),s("div",{on:{click:t.toggleNav}},[s("i",{staticClass:"fas fa-stream mt-3"})])],1),s("ul",{ref:"nav",style:{background:t.background}},[s("div",{staticClass:"image-logo"},[s("router-link",{attrs:{to:"/"}},[s("img",{attrs:{src:t.imagePath,height:"57px"}})])],1),t._l(t.navLinks,(function(e,a){return s("li",{key:a,on:{click:t.toggleNav}},[s("router-link",{attrs:{to:e.path}},[t._v(" "+t._s(e.title)+" "),s("i",{class:e.icon})])],1)})),t.isLoggedIn?t._e():s("li",{on:{click:t.toggleNav}},[s("router-link",{attrs:{to:"/login"}},[t._v(" connexion "),s("i",{staticClass:"fas fa-user-circle"})])],1),t.isLoggedIn?s("li",{on:{click:t.toggleNav}},[s("router-link",{attrs:{to:"/profile"}},[t._v(" Mon compte "),s("i",{staticClass:"fas fa-user-circle"})])],1):t._e(),t.isLoggedIn?s("li",{staticClass:"logout",on:{click:t.toggleNav}},[s("a",{attrs:{to:"/logout"},on:{click:function(e){return e.preventDefault(),t.logoutUser.apply(null,arguments)}}},[t._v(" Déconnexion "),s("i",{staticClass:"fas fa-user-alt-slash"})])]):t._e(),t._m(0)],2)])},l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("a",[s("input",{attrs:{placeholder:"Rechercher"}}),s("i",{staticClass:"fas fa-search"})])])}],u={computed:Object(o["a"])({},Object(i["c"])(["isLoggedIn"])),props:["navLinks","background","imagePath"],methods:Object(o["a"])(Object(o["a"])({toggleNav:function(){var t=this.$refs.nav.classList;t.contains("active")?t.remove("active"):t.add("active")}},Object(i["b"])(["logout"])),{},{logoutUser:function(){this.logout()}})},p=u,m=(s("07d9"),s("2877")),d=Object(m["a"])(p,c,l,!1,null,"14c43b04",null),f=d.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"alert alert-danger"},[s("i",{staticClass:"fas fa-times-circle"}),t._v(" "+t._s(t.msg)+" ")])},g=[],_={props:["msg"]},h=_,b=(s("281f"),Object(m["a"])(h,v,g,!1,null,"2d7a6d84",null)),w=b.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"d-flex justify-content-center"},[s("router-link",{attrs:{to:"https://github.com/matthCorvo"}},[s("h4",{staticClass:"text-white"},[s("i",{staticClass:"fab fa-github"})]),s("h4",{staticClass:"text-white"},[t._v("MatthC © "+t._s((new Date).getFullYear())+"  ")])])],1)},x=[],y={},j=y,k=(s("760c"),Object(m["a"])(j,C,x,!1,null,null,null)),O=k.exports,$={components:{Navigation:f,Errors:w,Footer:O},data:function(){return{navLinks:[{title:"Signaler un objet",path:"/add",icon:"fas fa-plus-circle"},{title:"Mes objets",path:"/",icon:"fas fa-briefcase"}]}},computed:Object(o["a"])({},Object(i["c"])(["error"]))},P=$,R=(s("5c0b"),Object(m["a"])(P,r,n,!1,null,null,null)),N=R.exports,E=s("8c4f"),A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-box"},[s("div",{staticClass:"container  mt-5 pb-5"},[t._m(0),this.$route.params.message?s("div",{staticClass:"alert alert-success alert-dismissible show ",attrs:{role:"alert"}},[s("button",{staticClass:"btn-close fade ",attrs:{type:"button","data-bs-dismiss":"alert","aria-label":"Close"}}),t._v(" "+t._s(this.$route.params.message)+" ")]):t._e(),s("div",{staticClass:"row p-3"},t._l(t.posts,(function(e){return s("div",{key:e._id,staticClass:"col-md-4 mt-4"},[s("div",{staticClass:"card item-card"},[s("router-link",{staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:{name:"items",params:{id:e._id}}}},[s("div",{staticClass:"card-img-block"},[s("h4",{staticClass:"text-left p-2 category"},[t._v(t._s(e.category))]),s("img",{staticClass:" image--cover",attrs:{src:"https://via.placeholder.com/150",alt:"photo de item"}})]),s("div",{staticClass:"card-body pt-0"},[s("h3",{staticClass:"card-title"},[t._v(t._s(e.title))]),s("h5",[t._v(t._s(e.created))]),s("p",{staticClass:"card-text"},[s("i",{staticClass:"fas fa-map-marker-alt"}),t._v(" "+t._s(e.adresse)+" ")]),s("button",{staticClass:"button"},[t._v(" Plus d'infos!")])])])],1)])})),0)])])},I=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:" m-3 mt-4 page-title d-flex flex-column flex-sm-row flex-sm-wrap justify-content-sm-between align-items-center align-items-sm-center"},[s("h4",{staticClass:"title"},[t._v("Mes objets")]),s("div",{staticClass:"page-title-right"},[s("h4",[t._v("La liste complète de tous vos objets")])])])}],M=s("1da1"),S=(s("96cf"),s("bc3a")),L=s.n(S),q={name:"mesObjets",data:function(){return{posts:[]}},mounted:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/api/post/");case 2:s=e.sent,t.posts=s.data;case 4:case"end":return e.stop()}}),e)})))()}},D=q,z=(s("21bb"),Object(m["a"])(D,A,I,!1,null,null,null)),U=z.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-box"},[s("div",{staticClass:"container  mt-5 pb-5"},[t._m(0),s("form",{attrs:{id:"form"}},[s("div",{staticClass:"box"},[s("label",{staticClass:"title label card__title"},[t._v("Nom de l'objet")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.post.title,expression:"post.title"}],staticClass:"mb-3 form-row__input",attrs:{type:"text",name:"title",placeholder:"( Veuillez noter le nom de l'objet )"},domProps:{value:t.post.title},on:{input:function(e){e.target.composing||t.$set(t.post,"title",e.target.value)}}}),s("label",{staticClass:"title label card__title"},[t._v("état")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.post.category,expression:"post.category"}],staticClass:"mb-3 form-row__input",attrs:{type:"text",name:"category",placeholder:"( perdu / trouvé )"},domProps:{value:t.post.category},on:{input:function(e){e.target.composing||t.$set(t.post,"category",e.target.value)}}}),s("label",{staticClass:"title label card__title"},[t._v("adresse")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.post.adresse,expression:"post.adresse"}],staticClass:"mb-3 form-row__input",attrs:{type:"text",name:"adresse",placeholder:"( Adresse )"},domProps:{value:t.post.adresse},on:{input:function(e){e.target.composing||t.$set(t.post,"adresse",e.target.value)}}}),s("label",{staticClass:"title label card__title"},[t._v("Détails")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.post.content,expression:"post.content"}],staticClass:"form-row__input",attrs:{type:"text",name:"content",placeholder:"( Veuillez noter un détails importants )"},domProps:{value:t.post.content},on:{input:function(e){e.target.composing||t.$set(t.post,"content",e.target.value)}}}),s("button",{staticClass:"btn btn-outline-info mt-2",attrs:{type:"button"},on:{click:t.addPost}},[t._v(" Ajouter mon Annonce ! ")])])])])])},F=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:" m-3 mt-4 page-title d-flex flex-column flex-sm-row flex-sm-wrap justify-content-sm-between align-items-center align-items-sm-center"},[s("h4",{staticClass:"title"},[t._v("Signaler un objet")]),s("div",{staticClass:"page-title-right"},[s("h4",[t._v("Remplissez le formulaire pour déclarer votre objet")])])])}],V=s("d4ec"),G=s("bee2"),J="/api/post",B=function(){function t(){Object(V["a"])(this,t)}return Object(G["a"])(t,null,[{key:"getAllPost",value:function(){var t=Object(M["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L.a.get(J);case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getPostByID",value:function(){var t=Object(M["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L.a.get("".concat(J,"/").concat(e));case 2:return s=t.sent,t.abrupt("return",s.data);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"addPost",value:function(){var t=Object(M["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L.a.post(J,e);case 2:return s=t.sent,t.abrupt("return",s.data);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"updatePost",value:function(){var t=Object(M["a"])(regeneratorRuntime.mark((function t(e,s){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L.a.patch("".concat(J,"/").concat(e),s);case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})));function e(e,s){return t.apply(this,arguments)}return e}()},{key:"deletePost",value:function(){var t=Object(M["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L.a.delete("".concat(J,"/").concat(e));case 2:return s=t.sent,t.abrupt("return",s.data);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),Y={name:"add",data:function(){return{post:{title:"",category:"",adresse:"",content:""}}},methods:{addPost:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.warn(t.post),e.next=3,L.a.post("/api/post/",{title:t.post.title,category:t.post.category,adresse:t.post.adresse,content:t.post.content});case 3:if(s=e.sent,201!=s.status){e.next=9;break}return e.next=7,B.addPost();case 7:a=e.sent,t.$router.push({name:"mesObjets",params:{message:a.message}});case 9:console.warn("result",s);case 10:case"end":return e.stop()}}),e)})))()}}},H=Y,K=(s("6598"),Object(m["a"])(H,T,F,!1,null,null,null)),Q=K.exports,W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-box"},[s("div",{staticClass:"container  mt-5 pb-5"},[t._m(0),this.$route.params.message?s("div",{staticClass:"alert alert-success alert-dismissible show ",attrs:{role:"alert"}},[s("button",{staticClass:"btn-close fade ",attrs:{type:"button","data-bs-dismiss":"alert","aria-label":"Close"}}),t._v(" "+t._s(this.$route.params.message)+" ")]):t._e(),s("div",{staticClass:"row"},[t._m(1),s("div",{staticClass:"mt-2 m-3"},[s("button",{staticClass:"button red mb-3",on:{click:function(e){return t.deleteItem(t.post._id)}}},[t._v(" supprimer ")]),s("router-link",{attrs:{to:{name:"edit",params:{id:t.post._id}}}},[s("button",{staticClass:"button"},[t._v(" Modifier ")])])],1)]),s("hr"),s("div",{staticClass:"text-center "},[s("h4",{staticClass:"mb-4"},[t._v(" "+t._s(t.post.title)+" ")]),s("div",{staticClass:"mb-2"},[s("strong",[t._v("Etat :")]),s("h5",{staticClass:"d-inline"},[s("span",{staticClass:"badge  ml-2 badge-light"},[t._v(" "+t._s(t.post.category)+" ")])])]),s("div",{staticClass:"mb-2"},[s("strong",[t._v("Date :")]),s("h5",{staticClass:"d-inline"},[s("span",{staticClass:"badge  ml-2 badge-light"},[t._v(" "+t._s(t.post.created)+" ")])])]),s("div",{staticClass:"mb-2"},[s("strong",[t._v("Adresse :")]),s("h5",{staticClass:"d-inline"},[s("span",{staticClass:"badge  ml-2 badge-light"},[t._v(" "+t._s(t.post.adresse)+" ")])])]),s("div",{staticClass:"mb-2"},[s("strong",[t._v("Détails :")]),s("h5",{staticClass:"d-inline"},[s("span",{staticClass:"badge  ml-2 badge-light"},[t._v(" "+t._s(t.post.content)+" ")])])])])])])},X=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:" m-3 mt-4 page-title d-flex flex-column flex-sm-row flex-sm-wrap justify-content-sm-between align-items-center align-items-sm-center"},[s("h4",{staticClass:"title"},[t._v("Fiche objet")]),s("div",{staticClass:"page-title-right"},[s("h4",[t._v("Détails")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 col-md"},[s("div",{staticClass:" flex-column flex-md-row align-items-center"},[s("div",{staticClass:"align-self-center align-self-md-start align-self-start"},[s("div",{staticClass:"p-2 card-img-box"},[s("img",{staticClass:" image--cover",attrs:{src:"https://via.placeholder.com/150",alt:"photo de item"}})])])])])}],Z={data:function(){return{post:{}}},mounted:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("api/post/"+t.$route.params.id);case 2:s=e.sent,t.post=s.data;case 4:case"end":return e.stop()}}),e)})))()},methods:{deleteItem:function(t){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,B.deletePost(t);case 2:a=s.sent,e.$router.push({name:"mesObjets",params:{message:a.message}});case 4:case"end":return s.stop()}}),s)})))()}}},tt=Z,et=(s("b155"),Object(m["a"])(tt,W,X,!1,null,"fd007378",null)),st=et.exports,at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-box"},[s("div",{staticClass:"container  mt-5 pb-5"},[t._m(0),s("form",{attrs:{id:"form"}},[s("div",{staticClass:"box"},[s("label",{staticClass:"title label card__title"},[t._v("Nom de l'objet")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.post.title,expression:"post.title"}],staticClass:"mb-3 form-row__input",attrs:{type:"text",name:"title",placeholder:"( Veuillez noter le nom de l'objet )"},domProps:{value:t.post.title},on:{input:function(e){e.target.composing||t.$set(t.post,"title",e.target.value)}}}),s("label",{staticClass:"title label card__title"},[t._v("état")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.post.category,expression:"post.category"}],staticClass:"mb-3 form-row__input",attrs:{type:"text",name:"category",placeholder:"( perdu / trouvé )"},domProps:{value:t.post.category},on:{input:function(e){e.target.composing||t.$set(t.post,"category",e.target.value)}}}),s("label",{staticClass:"title label card__title"},[t._v("adresse")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.post.adresse,expression:"post.adresse"}],staticClass:"mb-3 form-row__input",attrs:{type:"text",name:"adresse",placeholder:"( Adresse )"},domProps:{value:t.post.adresse},on:{input:function(e){e.target.composing||t.$set(t.post,"adresse",e.target.value)}}}),s("label",{staticClass:"title label card__title"},[t._v("Détails")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.post.content,expression:"post.content"}],staticClass:" form-row__input",attrs:{type:"text",name:"content",placeholder:"( Veuillez noter un détails importants )"},domProps:{value:t.post.content},on:{input:function(e){e.target.composing||t.$set(t.post,"content",e.target.value)}}}),s("button",{staticClass:"btn btn-outline-info mt-2",attrs:{type:"button"},on:{click:t.updateItem}},[t._v(" Modifier mon Annonce ! ")])])])])])},rt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:" m-3 mt-4 page-title d-flex flex-column flex-sm-row flex-sm-wrap justify-content-sm-between align-items-center align-items-sm-center"},[s("h4",{staticClass:"title"},[t._v("Modifier votre signalement ")])])}],nt={name:"edit",data:function(){return{post:{title:"",category:"",adresse:"",content:""}}},methods:{updateItem:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.warn(t.post),e.next=3,L.a.patch("/api/post/"+t.$route.params.id,{title:t.post.title,category:t.post.category,adresse:t.post.adresse,content:t.post.content});case 3:s=e.sent,200==s.status&&t.$router.push({name:"items",params:{message:"modifier avec succès!"}});case 5:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/api/post/"+t.$route.params.id);case 2:s=e.sent,console.warn(s.data),t.post=s.data;case 5:case"end":return e.stop()}}),e)})))()}},ot=nt,it=(s("7753"),Object(m["a"])(ot,at,rt,!1,null,null,null)),ct=it.exports,lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register"},[s("div",{staticClass:"card"},[s("h1",{staticClass:"card__title"},[t._v("Connexion")]),s("p",{staticClass:"card__subtitle"},[t._v("Tu n'as pas encore de compte ? "),s("router-link",{attrs:{to:"register"}},[s("span",{staticClass:"card__action"},[t._v("Créer un compte")])])],1),s("p",{staticClass:"card__subtitle"},[t._v("ou ")]),s("p",{staticClass:"card__subtitle font-italic font-weight-bold"},[t._v(" Nom : test - Mot de passe : test ")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.loginUser.apply(null,arguments)}}},[s("div",{staticClass:"form-row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-row__input",attrs:{id:"name",type:"text",placeholder:"Nom",name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),s("div",{staticClass:"form-row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-row__input",attrs:{id:"password",type:"password",placeholder:"Mot de passe",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._m(0)])])])},ut=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-row"},[s("button",{staticClass:"button",attrs:{type:"submit"}},[s("span",[t._v("Connexion")])])])}],pt=(s("b0c0"),{data:function(){return{name:"",password:""}},methods:Object(o["a"])(Object(o["a"])({},Object(i["b"])(["login"])),{},{loginUser:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s={name:t.name,password:t.password},t.login(s).then((function(e){e.data.success&&t.$router.push("/profile")})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()}})}),mt=pt,dt=(s("3a69"),Object(m["a"])(mt,lt,ut,!1,null,"5ac62798",null)),ft=dt.exports,vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register"},[s("div",{staticClass:"card"},[s("h1",{staticClass:"card__title"},[t._v("Inscription")]),s("p",{staticClass:"card__subtitle"},[t._v("Tu as déjà un compte ? "),s("router-link",{attrs:{to:"login"}},[s("span",{staticClass:"card__action"},[t._v("Se connecter")])])],1),s("form",{on:{submit:function(e){return e.preventDefault(),t.registerUser.apply(null,arguments)}}},[s("div",{staticClass:"form-row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-row__input",attrs:{name:"name",id:"name",type:"text",placeholder:"Nom"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),s("div",{staticClass:"form-row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-row__input",attrs:{name:"email",id:"email",type:"email",placeholder:"Adresse email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"form-row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-row__input",attrs:{name:"password",id:"password",type:"password",placeholder:"Mot de passe"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"form-row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.confirm_password,expression:"confirm_password"}],staticClass:"form-row__input",attrs:{name:"confirm_password",id:"confirm_password",type:"password",placeholder:"Confirmez votre mot de passe"},domProps:{value:t.confirm_password},on:{input:function(e){e.target.composing||(t.confirm_password=e.target.value)}}})]),t._m(0)])])])},gt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-row"},[s("button",{staticClass:"button mt-3",attrs:{type:"submit"}},[s("span",[t._v("Créer mon compte")])])])}],_t={data:function(){return{name:"",email:"",password:"",confirm_password:""}},methods:Object(o["a"])(Object(o["a"])({},Object(i["b"])(["register"])),{},{registerUser:function(){var t=this,e={name:this.name,password:this.password,confirm_password:this.confirm_password,email:this.email};this.register(e).then((function(e){e.data.success&&t.$router.push("login")}))}})},ht=_t,bt=(s("d73b"),Object(m["a"])(ht,vt,gt,!1,null,null,null)),wt=bt.exports,Ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register"},[t.user?s("div",{staticClass:"card"},[s("h1",{staticClass:"card__title"},[t._v("Espace Perso")]),s("p",{staticClass:"card__subtitle"},[t._v("Mes informations de connexion...")]),s("p",[t._v("Photo de profil")]),t._m(0),s("br"),s("p",[t._v("Email: "+t._s(t.user.email))]),s("p",[t._v("Name: "+t._s(t.user.name))])]):t._e()])},xt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex justify-content-center"},[s("img",{staticClass:" image--cover",attrs:{src:"https://source.unsplash.com/user/erondu/1600x900",alt:"photo de profil"}})])}],yt={computed:Object(i["c"])(["user"]),methods:Object(o["a"])({},Object(i["b"])(["getProfile"])),created:function(){this.getProfile()}},jt=yt,kt=(s("b52d"),Object(m["a"])(jt,Ct,xt,!1,null,"e3fad1e4",null)),Ot=kt.exports,$t={token:localStorage.getItem("token")||"",user:{},status:"",error:null},Pt={isLoggedIn:function(t){return!!t.token},authState:function(t){return t.status},user:function(t){return t.user},error:function(t){return t.error}},Rt={login:function(t,e){return Object(M["a"])(regeneratorRuntime.mark((function s(){var a,r,n,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,a("auth_request"),s.prev=2,s.next=5,L.a.post("/api/users/login",e);case 5:return r=s.sent,r.data.success&&(n=r.data.token,o=r.data.user,localStorage.setItem("token",n),L.a.defaults.headers.common["Authorization"]=n,a("auth_success",n,o)),s.abrupt("return",r);case 10:s.prev=10,s.t0=s["catch"](2),a("auth_error",s.t0);case 13:case"end":return s.stop()}}),s,null,[[2,10]])})))()},register:function(t,e){return Object(M["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,s.prev=1,a("register_request"),s.next=5,L.a.post("/api/users/register",e);case 5:return r=s.sent,void 0!==r.data.success&&a("register_success"),s.abrupt("return",r);case 10:s.prev=10,s.t0=s["catch"](1),a("register_error",s.t0);case 13:case"end":return s.stop()}}),s,null,[[1,10]])})))()},getProfile:function(t){return Object(M["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,s("profile_request"),e.next=4,L.a.get("/api/users/profile");case 4:return a=e.sent,s("user_profile",a.data.user),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))()},logout:function(t){return Object(M["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.next=3,localStorage.removeItem("token");case 3:return s("logout"),delete L.a.defaults.headers.common["Authorization"],Mt.push("/login"),e.abrupt("return");case 7:case"end":return e.stop()}}),e)})))()}},Nt={auth_request:function(t){t.error=null,t.status="loading"},auth_success:function(t,e,s){t.token=e,t.user=s,t.status="success",t.error=null},auth_error:function(t,e){t.error=e.response.data.msg},register_request:function(t){t.error=null,t.status="loading"},register_success:function(t){t.error=null,t.status="success"},register_error:function(t,e){t.error=e.response.data.msg},logout:function(t){t.error=null,t.status="",t.token="",t.user=""},profile_request:function(t){t.status="loading"},user_profile:function(t,e){t.user=e}},Et={state:$t,actions:Rt,mutations:Nt,getters:Pt};a["a"].use(i["a"]);var At=new i["a"].Store({modules:{Auth:Et},state:{},mutations:{},actions:{}});a["a"].use(E["a"]);var It=new E["a"]({mode:"history",base:"/",routes:[{path:"/",name:"mesObjets",component:U},{path:"/add",name:"Ajouter",component:Q,meta:{requiresAuth:!0}},{path:"/items/:id",name:"items",component:st,meta:{requiresAuth:!0}},{path:"/edit/:id",name:"edit",component:ct},{path:"/login",name:"login",component:ft,meta:{requiresGuest:!0}},{path:"/register",name:"register",component:wt,meta:{requiresGuest:!0}},{path:"/profile",name:"profile",component:Ot,meta:{requiresAuth:!0}}]});It.beforeEach((function(t,e,s){t.matched.some((function(t){return t.meta.requiresAuth}))?At.getters.isLoggedIn?s():s("/login"):t.matched.some((function(t){return t.meta.requiresGuest}))&&At.getters.isLoggedIn?s("/profile"):s()}));var Mt=It;s("f9e3");L.a.defaults.baseURL="http://localhost:5000/",a["a"].config.productionTip=!1,a["a"].prototype.$http=L.a;var St=localStorage.getItem("token");St&&(a["a"].prototype.$http.defaults.headers.common["Authorization"]=St),new a["a"]({router:Mt,store:At,render:function(t){return t(N)}}).$mount("#app")},"5b35":function(t,e,s){},"5c0b":function(t,e,s){"use strict";s("9c0c")},6598:function(t,e,s){"use strict";s("5b35")},"760c":function(t,e,s){"use strict";s("c3f5")},7753:function(t,e,s){"use strict";s("c7c7")},"7a27":function(t,e,s){},9533:function(t,e,s){},"9c0c":function(t,e,s){},b155:function(t,e,s){"use strict";s("7a27")},b52d:function(t,e,s){"use strict";s("c4be")},b566:function(t,e,s){},c3f5:function(t,e,s){},c4be:function(t,e,s){},c7c7:function(t,e,s){},d709:function(t,e,s){},d73b:function(t,e,s){"use strict";s("b566")},da53:function(t,e,s){t.exports=s.p+"img/logo-light.034d9de9.png"}});
//# sourceMappingURL=app.b8c90a44.js.map